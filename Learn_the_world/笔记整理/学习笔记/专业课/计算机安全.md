计算机安全威胁：
	环境安全构成的：电磁波辐射、辅助保障系统、自然因素
	计算机软硬件故障
	人为无意失误
	人为攻击
	计算机恶意病毒与安全威胁

计算机系统安全等级


| 国内      | TCSEC       |
| ------- | ----------- |
|         | D(DOS、WIN等) |
| 自主保护级   | C1          |
| 系统审计保护级 | C2          |
| 安全标记保护级 | B1          |
| 结构化保护级  | B2          |
| 访问验证保护级 | B3、A1       |

#### 1. 计算机安全综述

##### 1.1 CIA
**保密性：** Confidentiality，信息内容不会被第三方所知
**完整性：** Integrity，信息的内容不能被未授权的第三方修改
**可用性：** Availability，信息系统必须是可用的，信息系统不能拒绝服务

##### 1.2 PPDR&PDRR 
###### 1.2.1 PPDR（政策Policy/保护Protection/检测Detection/响应Response

**核心**：<u>安全策略体系</u> 的建立
**安全目标**： 尽可能地增大<u>保护时间</u>，尽量减少<u>检测时间</u>和<u>响应时间</u>。

**公式：**
1.Pt > Dt+Rt
	防护时间大于检测时间加上响应时间
2.Et = Dt + Rt （假设Pt=0）
其中Et为暴露时间，Dt与Rt的和就是该安全目标系统的暴露时间Et。针对于需要保护的安全目标，如果Et越小系统就越安全。
###### 1.2.2 PDRR（保护Protect/检测Detect/反应React/恢复Restore
**最重要的部分**：防护

保护：缺陷扫描 防火墙 数据加密 鉴别技术
检测：IDS入侵检测系统
反应：计算机响应小组
恢复：系统恢复+信息恢复

**APPDRR（A:风险评估）**
##### 1.3 风险评估
**原因**：系统分析面临威胁和脆弱性，为防范化解信息安全风险，安全策略确定，信息系统的建立以及安全运行提供依据
**主要任务**：威胁分析，系统脆弱性分析，风险定级排序
##### 1.4 安全服务
安全服务\*5：鉴别服务 访问控制 数据完整性 数据保密性 不可抵赖性
安全机制\*8：加密 访问控制 数据完整性 数字签名 交换鉴别 公证 流量填充 路由控制
#### 2. 实体安全及其可靠性
##### 2.1.1 环境安全（受灾防护 区域防护）
（1）受灾防护
	灾难前中后三个阶段
	物理位置选择
（2）区域防护
	边界控制：围墙、监控、外部接访区域
	物理访问控制：专人值守、告警系统、限制监控机房人员、机房分区管理（物理隔离、过渡区域
##### 2.1.2 设备安全（设备防盗 设备防毁 防止线路截获）
（1）设备防盗：上锁、报警等防盗手段
（2）设备防毁：
	抗自然破坏：接地
	抗人为破坏：防砸外壳
（3）防止线路截获（4方面）：预防、探测、定位、对抗线路截获
（4）电源保护：不间断电源
（5）电磁防护：防止泄露
##### 2.1.3 媒体安全（媒体数据防盗、防毁、销毁）
保密措施：
	同意管理软件磁盘
	标明密级
	磁盘信息加密技术
	维修时专人监督
	磁盘信息清除技术（直流、交流消磁
##### 2.2.1 数据备份（完全备份 增量备份 差分备份）
增量备份和差分备份区别：增量备份副本相互独立，差分备份新的包含旧的
相同点：都需要初始进行一次完全备份
	**数据方案设计：备份软件、备份介质、日常备份制度**
	
##### 2.2.2 集群与双机容错
双机热备：备份机待机空转
双机互备：备份机承担服务，但是可能导致运行速度下降

##### 2.3 RAID
优点：价格低 传输快 容错
###### 2.3.1 RAID0
同时存储
优点：速度快
缺点：无校验

存在<u>RAID0+1</u>
###### 2.3.2 RAID1
互为镜像
优点：最高可靠性
缺点：利用率低

###### 2.3.3 RAID2
汉明码纠错，分数据盘与校验盘，第2n处个为校验盘，（条带深度为比特
数据越多校验位占比越小，数据量少时性能不好，用的少

###### 2.3.4 RAID3
只有一个奇偶校验码盘（条带深度为字节
优点：读写快
缺点：校验盘无冗余

###### 2.3.5 RAID4
也是奇偶校验码，但是数据不再按位并行存放，而是以数据块形式（一个文件）并行存储。因为奇偶校验都在一个盘上所以存在写入瓶颈（条带深度为数据块

###### 2.3.6 RAID5（常见）
奇偶校验不在同一个磁盘
优点：一个磁盘失效其他盘可以成功恢复数据
缺点：写操作开销大

#### 3. 身份认证与访问控制
##### 3.1身份认证（第一道大门，授权
三要素 What you know/have/are

身份认证协议种类（单向/双向/基于公钥/基于对称）
###### 3.1.1基于口令认证
3.1.1.1 静态口令认证：
	缺点：
		1）易泄露（用户泄露，传输泄露，服务器泄露）
		2）单向认证
	不安全情况：
		1）用户名作口令
		2）用户名变换作为口令
		3）生日作为口令，种类太少
		4）常用英文单词，但是黑客有字典
		5）口令短于5位
	加强口令：
		1）不用缺省口令
		2）定期更换
		3）不循环使用旧口令
		4）程序测试口令强度（弱/中/强）

3.1.1.2 动态口令认证
	认证种类：挑战/响应、时间/同步、事件/同步
		1）挑战响应工作机制：1.请求 2.S发随机串X，并计算加密RS 3.C算RC发给服务器 4.比较RS、RC
		2）时间同步：随机串X变成时间T，其余相同
##### 3.2访问控制（第二道大门

*四要素：主体/客体/授权/安全策略*

主动的主体 （Subject）使用某种特定的访问操作去访问一个被动的客体（Object），所使用的特定 的访问操作受访问监视器控制。

###### 3.2.1 访问控制模型
访问矩阵（S/O/A）
###### 3.2.2 实现方法
三种方法
	能力关系表（CL） 从主体出发
	访问控制表（ACL） 从客体出发
	授权关系表（ARL）展开展示

###### 3.2.3 控制原则
（1）最小特权原则
（2）多人负责原则：没人有所有授权
（3）职责分离原则：没有一个人有两项不相关的原则

###### 3.2.4 自主访问控制（DAC）
一个拥有一定访问权限的主体，被看作是一定资源的所有者（也往往是创建者），在其拥有的资源范围内，所有者可以自主地直接或间接地将权限传给（分发给）主体，即可以自主地决定谁可以访问这些资源。
基于行的
基于列的

###### 3.2.4 强制访问控制（MAC）
强制访问控制的主要特征是对所有主体及其所控制的客体（例如：进程、文件、段、设备）实施强制访问控制。为这些主体及客体指定敏感标记，这些标记是等级分类和非等级类别的组合，它们是实施强制访问控制的依据。系统通过比较主体和客体的敏感标记来决定一个主体是否能够访问某个客体。

四个级别（TSCU）：最高秘密级（ Top  Secret ），秘密级（ Secret ），机密级（ Confidential ） 及无级别级（ Unclassified ） 

四个访问模式：下读、上写、下写、上读

###### 3.2.4 基于角色的访问控制（RBAC）
它通过分配和取消角色来完成用户权限的授予和取消，并且提供角色分配规则。这样， 整个访问控制过程就分成两个部分， 即访问权限与角色相关联，角色再与用户关联，从而实现了用户与访问权限的逻辑分离，
（1）继承，角色分层，高对低（父对子）的权限继承




#### 4.计算机病毒与恶意软件
##### 4.1计算机病毒
###### 4.1.1定义
**人为制造**的具有**破坏性**的程序，能够**自我复制**并**干扰计算机正常运行** 是程序
###### 4.1.2病毒分类
四种方式
	传染方式
		引导型
		可执行文件型
		宏病毒
		混合型
	侵入途径
		源码病毒
		操作系统病毒
		入侵病毒
		外壳病毒
	破坏性
		良性病毒
		恶性病毒
	传播媒介
		单机病毒
		网络病毒
###### 4.1.3病毒特征
五种特征
	程序性（寄生性）
	传染性
	潜伏性
	表现性和破坏性
	可触发性
###### 4.1.4 病毒组成
初始化（引导）模块，传染模块、触发模块、破坏模块

###### 4.1.4 病毒工作原理
引导过程、传染过程、触发条件和破坏行为。

###### 4.1.5防治
防毒、查毒、解毒、免疫

**病毒检测技术（手工监测（DEBUG、PCTOOLS、NU、SYSINFO）和自动检测)：**
	特征代码法
	检验和法
	行为监测法
	软件模拟法
	比较法
	感染实验法
	分析法

**病毒消除技术**（内存->硬盘->善后处理）
	
##### 4.2恶意软件
###### 4.2.1定义
**未经用户许可**，在用户计算机上**安装运行**，**侵害用户合法权益**的软件
###### 4.2.2特征：
强制安装、难以卸载、浏览器劫持、广告弹出、恶意收集用户信息、恶意卸载、恶意捆绑、

###### 4.2.3分类
广告软件、间谍软件、浏览器劫持、恶意共享、行为记录软件

###### 4.2.4防范
安全政策、警惕性计划、漏洞处置、威胁处置
禁用或限制使用Java  程序及ActiveX控件


#### 5.操作系统安全（安全操作系统、操作系统安全加固）
##### 5.1引用监视器
访问控制策略、所有请求入口、足够小便于验证、自身保证安全与正确
##### 5.2 安全内核
引用验证机制、授权机制、授权管理机制

##### 5.3操作系统安全机制
身份认证技术，访问控制技术，文件保护技术，内存保护技术，恶意程序防御技术

###### 5.3.1 文件保护技术
对文件保护、对文件系统保护、对文件存储载体保护
文件控制访问技术、文件系统加密、文件系统备份
一般性有无保护、分组保护、单独保护许可保护
###### 5.3.2 内存保护技术
（1）原因：多道程序技术串行，防止栈溢出，防止内核信息被获取

（2）攻击：内存映像窃取、内存跟踪技术、缓冲区内容截取、存储内容分析技术、存储器锁定技术、扩展存储器使用技术

（3）保护对象：界址，界址寄存器、重定位、特征位、分段、分页、虚拟机制

###### 5.3.3 unix操作系统安全简介
(1)硬件安全保护、用户及口令管理、文件权限管理
UID为零是超级用户，口令DES加密后存放在安全目录下

(2)组权限从前到后：拥有者、组、其他用户；读、写、执行对于目录来说即查找、删除修改、进入与打开

(3)指令：ls -s查找权限，chmod chown chgrp 修改权限拥有者和组
(4)umask决定用户文件初始权限，即umask与777异或的结果
(5)S权限：SUID（拥有者身份执行），SGID（组身份执行），S（对目录，可被读写，但所有者才能删除or更名

###### 5.3.4 windows操作系统安全简介
（1）两种安全模型
	工作群组模型
		各工作站独立性高，有自己的账号和数据库，
	网络域模型
		有主域控制器（PDC），存取资源需要通过认证
		
（1.5）Windos NT的安全组件
安全子系统：winlogon、GINA、LSA、AP、SSP、SAM、Netlogon
	1.winlogon：安全登录系统ctrl+alt+delete启动GINA DLL
	2.GINA界面识别与认证：
	3.LSA本地安全管理员：检查用户登录信息，生成系统访问令牌
	4.安全支持提供者的接口SSPI：提供安全服务的API
	5.认证包AP：GINA认证后，AP返回用户SIDs给LSA，存放在用户访问令牌中
	6.安全支持提供者SSP：Msnsspc.dll（网络挑战响应C/R模块
		Msapsspc.dll（分布式密码认证C/R模块
		Schannel.dll:验证证书
	7.网络登录Netlogon：
	8.安全账号管理者SAM：
	

（2）口令与管理
账号：Administrator账号与来宾账号

群组：区域群组（权限只能用于本地计算机）与全域群组（用在网域的各个工作站上）

口令存储：win 95/98存在.pwl文件中，rc4加密（不安全）；WIN NT存在注册表\SAM文件中

用户口令分成LANManager口令（兼容老版本）和WindowsNT口令
生成流程：14字节口令均分作为DES秘钥加密8bit幻数，得到两个8字节拼起来



（3）认证与访问控制
windowsNT采用用户级访问控制，只有用户在该系统内有账号才能访问共享资源

NTFS文件访问控制RWXDPO，提供EFS加密文件服务（以公钥为基础）

（4）注册表与防火墙
注册表：reg.dat文件，只能用regedit.exe进行修改与设置，五个子树
HKEY_LOCAL_MACHINE
HKEY_CLASSES_ROOT
HKEY_CURRENT_CONFIG
HKEY_CURRENT_USER
HKEY_USER
前三个对于非系统组与管理员组均只能读取

防火墙：可以有定义规则
###### 5.3.5 操作系统安全加固
纵深防御的最后一道防线
常用操作系统加固技术
	安全操作系统技术：安全性高的操作系统
	应用开发安全技术：避免有缓冲区溢出
	代码安全技术：进行安全监测
	反病毒技术
	防火墙技术
	入侵检测技术
	蜜罐技术
操作系统安全加固
	防止本地攻击：限制管理工具，文件系统费访问控制，安全日志，删账号
	防止网络攻击：健壮口令，停止不用的服务，禁用资源共享，删账号
	抵御应用程序攻击：装补丁，安全应用程序开发，代码安全性检查，口令强度
#### 6.新兴安全技术
##### 6.1物联网安全
（1）主要技术
	低功耗能耗技术、轻量密码、新的认证技术
	模糊测试
	可信执行环境
	云计算方向：安全多方计算，虚拟环境访问控制，云数据库查询，差分隐私
	安全态势感知

##### 6.2 工业控制系统ICS
组成
	监控和数据采集系统SCADA
	分布式控制系统DCS
	可编程逻辑控制器PLC
